{"data":{"markdownRemark":{"html":"<p>An execution context is an layer of the bundling cycle that .</p>\n<p>Previously, we’ve mentioned that Packem uses OS-specific precompiled binaries to handle bigger tasks in the bundling cycle such as module graph generation. However, to integrate with tools like Babel and such, a custom V8 binding to Rust is necessary. However this means much more than it sounds. Create bindings for V8 in Rust for every release is exceedingly difficult, yet not impossible. Packem does not exclusively rely on JavaScript especially where heavy operations are concerned.</p>\n<ul>\n<li>Runtime Context - The portions of Packem that are best represented in JavaScript on Node. The JavaScript source-to-source compiler, basic optimizations and a few other domains within Packem’s core are hoisted here. There is a shared issue between both layers especially in our case where the RC happens to take the position of being the mainstream context in the Packem Model so Node startup times and V8 side effects are still persistant.</li>\n<li>Logical Context - This section entails most of the logic Packem uses to instantiate and rehydrate the module graph. It is written strictly in Rust and in most cases, performance-critical parts are abstracted into this layer. However, exceptions to this rule do remain especially in the domains of Packem not having support for them in the moment.</li>\n</ul>\n<p>Switching between the LC and RC can cause a performance delay since the FFI bindings yield the effect with an extra overhead causing build times to be a bit higher. This is why:</p>\n<ul>\n<li>Necessary decisions are made before hand in the RC to avoid unnecessary calls between the two layers.</li>\n<li>A minimal functional interface is exposed to the RC.</li>\n<li>Non-performance-critical parts of Packem are regressed into the RC.</li>\n</ul>\n<blockquote>\n<p>Note</p>\n<p>Mutation of the module graph can occur anywhere between the LC and the RC</p>\n</blockquote>","frontmatter":{"title":"Execution Contexts","next":"advanced-plugin-apis.html"},"fields":{"path":"content\\docs\\execution-contexts.md","slug":"docs/execution-contexts.html"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"docs/execution-contexts.html"}}